import{q as F,h as y,a0 as K,aX as W,aY as Y,a9 as q,w as x,aZ as z}from"./D2TcuHkd.js";import{j as B,k as D,d as G,n as J,l as Q}from"./1bXq2FG_.js";import{b as Z}from"./BIIlYxzt.js";function X(s,e){if(e){const t=document.body;s.autofocus=!0,F(()=>{document.activeElement===t&&s.focus()})}}function O(s){var e,t,r="";if(typeof s=="string"||typeof s=="number")r+=s;else if(typeof s=="object")if(Array.isArray(s)){var a=s.length;for(e=0;e<a;e++)s[e]&&(t=O(s[e]))&&(r&&(r+=" "),r+=t)}else for(t in s)s[t]&&(r&&(r+=" "),r+=t);return r}function ss(){for(var s,e,t=0,r="",a=arguments.length;t<a;t++)(s=arguments[t])&&(e=O(s))&&(r&&(r+=" "),r+=e);return r}function es(s){return typeof s=="object"?ss(s):s??""}function ts(s,e){e?s.hasAttribute("selected")||s.setAttribute("selected",""):s.removeAttribute("selected")}function rs(s,e,t,r){var a=s.__attributes??(s.__attributes={});y&&(a[e]=s.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&s.nodeName==="LINK")||a[e]!==(a[e]=t)&&(e==="style"&&"__styles"in s&&(s.__styles={}),e==="loading"&&(s[W]=t),t==null?s.removeAttribute(e):typeof t!="string"&&U(s).includes(e)?s[e]=t:s.setAttribute(e,t))}function _s(s,e,t,r,a=!1,h=!1,b=!1){var l=e||{},A=s.tagName==="OPTION";for(var f in e)f in t||(t[f]=null);t.class&&(t.class=es(t.class));var p=U(s),E=s.__attributes??(s.__attributes={});for(const i in t){let o=t[i];if(A&&i==="value"&&o==null){s.value=s.__value="",l[i]=o;continue}var v=l[i];if(o!==v){l[i]=o;var I=i[0]+i[1];if(I!=="$$"){if(I==="on"){const u={},g="$$"+i;let d=i.slice(2);var S=Q(d);if(B(d)&&(d=d.slice(0,-7),u.capture=!0),!S&&v){if(o!=null)continue;s.removeEventListener(d,l[g],u),l[g]=null}if(o!=null)if(S)s[`__${d}`]=o,G([d]);else{let V=function(H){l[i].call(this,H)};l[g]=D(d,s,V,u)}else S&&(s[`__${d}`]=void 0)}else if(i==="style"&&o!=null)s.style.cssText=o+"";else if(i==="autofocus")X(s,!!o);else if(i==="__value"||i==="value"&&o!=null)s.value=s[i]=s.__value=o;else if(i==="selected"&&A)ts(s,o);else{var n=i;a||(n=J(n));var P=n==="defaultValue"||n==="defaultChecked";if(o==null&&!h&&!P)if(E[i]=null,n==="value"||n==="checked"){let u=s;if(n==="value"){let g=u.defaultValue;u.removeAttribute(n),u.defaultValue=g}else{let g=u.defaultChecked;u.removeAttribute(n),u.defaultChecked=g}}else s.removeAttribute(i);else P||p.includes(n)&&(h||typeof o!="string")?s[n]=o:typeof o!="function"&&(y&&(n==="src"||n==="href"||n==="srcset")||rs(s,n,o))}i==="style"&&"__styles"in s&&(s.__styles={})}}}return l}var T=new Map;function U(s){var e=T.get(s.nodeName);if(e)return e;T.set(s.nodeName,e=[]);for(var t,r=s,a=Element.prototype;a!==r;){t=Y(r);for(var h in t)t[h].set&&e.push(h);r=K(r)}return e}function ds(s,e,t){var r=s.__className,a=$(e);y&&s.getAttribute("class")===a?s.__className=a:(r!==a||y&&s.getAttribute("class")!==a)&&(a===""?s.removeAttribute("class"):s.setAttribute("class",a),s.__className=a)}function hs(s,e,t){var r=s.__className,a=$(e);y&&s.className===a?s.__className=a:(r!==a||y&&s.className!==a)&&(e==null?s.removeAttribute("class"):s.className=a,s.__className=a)}function $(s,e){return(s??"")+""}function ps(s,e,t){if(t){if(s.classList.contains(e))return;s.classList.add(e)}else{if(!s.classList.contains(e))return;s.classList.remove(e)}}function c(s,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?s!==e||!r:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(s):r?r.value:e.get(s)}function L(s,e,t,r,a){if(typeof e=="function"?s!==e||!0:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(s,t),t}var w,_,m;const k="__TAURI_TO_IPC_KEY__";function as(s,e=!1){return window.__TAURI_INTERNALS__.transformCallback(s,e)}class gs{constructor(){this.__TAURI_CHANNEL_MARKER__=!0,w.set(this,()=>{}),_.set(this,0),m.set(this,[]),this.id=as(({message:e,id:t})=>{if(t==c(this,_,"f"))for(c(this,w,"f").call(this,e),L(this,_,c(this,_,"f")+1);c(this,_,"f")in c(this,m,"f");){const r=c(this,m,"f")[c(this,_,"f")];c(this,w,"f").call(this,r),delete c(this,m,"f")[c(this,_,"f")],L(this,_,c(this,_,"f")+1)}else c(this,m,"f")[t]=e})}set onmessage(e){L(this,w,e)}get onmessage(){return c(this,w,"f")}[(w=new WeakMap,_=new WeakMap,m=new WeakMap,k)](){return`__CHANNEL__:${this.id}`}toJSON(){return this[k]()}}async function vs(s,e={},t){return window.__TAURI_INTERNALS__.invoke(s,e,t)}const N=Z({enabled_rulesets:[],is_loading:!1,log_messages:[],targets:[],matches:[],matches_map:{},rule_source_map:{},model_sidecar_ready:!1}),ws=s=>{N.model_sidecar_ready=s},ms=()=>N.model_sidecar_ready,ys=()=>{let s={};for(let t in N.matches_map)for(let r of N.matches_map[t]){if(s[r.identifier]){s[r.identifier].push(t);continue}s[r.identifier]=[t]}let e=[];for(let t in s){const r={rule:N.matches_map[s[t][0]].filter(a=>a.identifier==t)[0],matches:s[t]};e.push(r)}return e},C={};function R(s){return s==="local"?localStorage:sessionStorage}function M(s,e,t){const r=JSON,a="local";function h(b,l){R(a).setItem(b,r.stringify(l))}if(!C[s]){const b=x(e,f=>{const p=R(a).getItem(s);p&&f(r.parse(p));{const E=v=>{v.key===s&&f(v.newValue?r.parse(v.newValue):null)};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)}}),{subscribe:l,set:A}=b;C[s]={set(f){h(s,f),A(f)},update(f){const p=f(q(b));h(s,p),A(p)},subscribe:l}}return C[s]}const is=M("modeOsPrefers",!1),os=M("modeUserPrefers",void 0),ns=M("modeCurrent",!1);function bs(){const s=window.matchMedia("(prefers-color-scheme: light)").matches;return is.set(s),s}function As(s){os.set(s)}function Ns(s){const e=document.documentElement.classList,t="dark";s===!0?e.remove(t):e.add(t),ns.set(s)}function Es(){const s=document.documentElement.classList,e=localStorage.getItem("modeUserPrefers")==="false",t=!("modeUserPrefers"in localStorage),r=window.matchMedia("(prefers-color-scheme: dark)").matches;e||t&&r?s.add("dark"):s.remove("dark")}const j="(prefers-reduced-motion: reduce)";function cs(){return window.matchMedia(j).matches}const Ss=z(cs(),s=>{{const e=r=>{s(r.matches)},t=window.matchMedia(j);return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}});export{gs as C,rs as a,ws as b,_s as c,es as d,ds as e,Ns as f,ys as g,bs as h,vs as i,Es as j,As as k,as as l,ns as m,ms as n,Ss as p,hs as s,ps as t,N as y};
