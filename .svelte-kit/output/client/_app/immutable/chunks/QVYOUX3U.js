import{i as D,b as H,h as o,a as U,c as j,d as l,q as G,U as b,f as I,m as N,j as k,k as E,l as T,n as L,o as P,p as _,t as Z,v as z,x as B}from"./D2TcuHkd.js";const v=0,f=1,d=2;function J(g,q,w,h,A){o&&U();var p=g,m=D(),C=B,a=b,s,n,i,c=(m?I:N)(void 0),x=(m?I:N)(void 0),u=!1;function t(e,r){u=!0,r&&(k(y),E(y),T(C));try{e===f&&h&&(n?L(n):n=P(()=>h(p,c))),e!==v&&s&&_(s,()=>s=null),e!==f&&n&&_(n,()=>n=null),e!==d&&i&&_(i,()=>i=null)}finally{r&&(T(null),E(null),k(null),Z())}}var y=H(()=>{if(a!==(a=q())){if(j(a)){var e=a;u=!1,e.then(r=>{e===a&&(l(c,r),t(f,!0))},r=>{if(e===a)throw l(x,r),t(d,!0),x.v}),o||G(()=>{u||t(v,!0)})}else l(c,a),t(f,!1);return()=>a=b}});o&&(p=z)}export{J as a};
