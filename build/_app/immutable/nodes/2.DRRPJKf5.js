import{d as F,a as e,t as p,s as A,b as $,c as X}from"../chunks/Bv2CX0pF.js";import{i as K}from"../chunks/0Eqm2C4h.js";import{y as U,C as W,L as z,D as c,E as o,K as g,I as v,B as L,T as Q}from"../chunks/BZzQXbv5.js";import{i as R,r as Y,y as T,g as V,j as C,k as Z,b as tt}from"../chunks/BvU8keI9.js";import{g as at}from"../chunks/DHHkUmq2.js";import{A as q,a as O}from"../chunks/CdaYFjyl.js";async function J(l={}){return typeof l=="object"&&Object.freeze(l),await R("plugin:dialog|open",{options:l})}var G=Y(()=>T),et=p('<button type="button" class="btn btn-sm variant-filled-primary" style="transform: translateX(-70%);">clear</button>');function H(l,n){U(n,!1);const s=()=>{G(G().log_messages=[])};K();var b=et();b.__click=s,e(l,b),W()}F(["click"]);const st=async(l,n)=>{const s=await J({multiple:!0,directory:!1});s.length!=0&&n(s,!1)},rt=async(l,n)=>{const s=await J({multiple:!0,directory:!0});s.length!=0&&n(s,!0)};var ot=p('<li class="text-sm whitespace-normal break-words overflow-hidden"> </li>'),lt=p('<div class="card m-4 max-w-128"><header class="card-header"><div class="flex justify-between"><span> </span> <button type="button" class="btn btn-sm variant-filled-error ">x</button></div></header> <section class="p-4"><span>Paths:</span> <ol class="list max-w-full break-words"></ol></section> <footer class="card-footer"><span class="chip variant-filled-warning">Unscanned</span></footer></div>'),nt=p('<div class="flex flex-wrap justify-center"></div> <div class="flex justify-end"><div class="btn-group variant-filled-primary"><button>Add file</button> <button>Add directory</button></div></div>',1);function it(l,n){U(n,!1);const s=(m,t)=>{const r={paths:m,is_dirs:t};T.targets.push(r)},b=m=>{T.targets.splice(m,1)};K();var D=nt(),_=z(D);V(_,5,()=>T.targets,C,(m,t,r)=>{var a=lt(),x=c(a),u=c(x),d=c(u),P=c(d);o(d);var B=g(d,2);B.__click=()=>{b(r)},o(u),o(x);var f=g(x,2),k=g(c(f),2);V(k,5,()=>v(t).paths,C,(i,j)=>{var S=ot(),E=c(S,!0);o(S),L(()=>A(E,v(j))),e(i,S)}),o(k),o(f),Q(2),o(a),L(()=>A(P,`Type: ${(v(t).is_dirs?"Directories":"Files")??""}`)),e(m,a)}),o(_);var h=g(_,2),y=c(h),w=c(y);w.__click=[st,s];var I=g(w,2);I.__click=[rt,s],o(y),o(h),e(l,D),W()}F(["click"]);var ct=p('<p class="overflow-hide"> </p>'),dt=(l,n,s)=>{n(v(s))},vt=p('<button class="btn btn-sm variant-filled-secondary m-1"> </button>'),pt=p("<pre> </pre>"),_t=p('<section class="bg-gray-900 max-h-64 overflow-auto p-4 mb-2"></section>'),ut=p("<!> <br> <!> <br> <!>",1);function ht(l,n){U(n,!1);const s={Info:"text-blue-500",Warning:"text-yellow-500",Error:"text-red-500 font-bold",Success:"text-green-500",Match:"text-red-500 font-bold"},b=at(),D=_=>{const h={id:"rule-drawer",meta:_};console.log(_),b.open(h)};K(),q(l,{children:(_,h)=>{var y=ut(),w=z(y);O(w,{class:"variant-ghost-surface mt-5 mr-5 ml-5",$$slots:{lead:(t,r)=>{var a=$("Targets");e(t,a)},summary:(t,r)=>{var a=$();a.nodeValue="",e(t,a)},content:(t,r)=>{it(t,{})}}});var I=g(w,4);O(I,{class:"variant-ghost-surface m-5",$$slots:{lead:(t,r)=>{var a=$("Matches");e(t,a)},summary:(t,r)=>{var a=$();a.nodeValue="",e(t,a)},content:(t,r)=>{q(t,{children:(a,x)=>{var u=X(),d=z(u);V(d,1,Z,C,(P,B)=>{O(P,{class:"variant-ghost-surface m-5 p-1",$$slots:{lead:(f,k)=>{var i=ct(),j=c(i,!0);o(i),L(()=>A(j,v(B).path)),e(f,i)},summary:(f,k)=>{var i=$();i.nodeValue="",e(f,i)},content:(f,k)=>{var i=X(),j=z(i);V(j,1,()=>v(B).rules,C,(S,E)=>{var M=vt();M.__click=[dt,D,E];var N=c(M,!0);o(M),L(()=>A(N,v(E).identifier)),e(S,M)}),e(f,i)}}})}),e(a,u)},$$slots:{default:!0}})}}});var m=g(I,4);O(m,{class:"variant-ghost-surface m-5",$$slots:{lead:(t,r)=>{var a=$("Logs");e(t,a)},summary:(t,r)=>{var a=$();a.nodeValue="",e(t,a)},content:(t,r)=>{var a=_t();V(a,5,()=>T.log_messages,C,(x,u)=>{var d=pt(),P=c(d,!0);o(d),L(()=>{tt(d,`text-sm ${s[v(u).lvl]||"text-white"}`),A(P,v(u).msg)}),e(x,d)}),o(a),e(t,a)},iconClosed:(t,r)=>{H(t,{})},iconOpen:(t,r)=>{H(t,{})}}}),e(_,y)},$$slots:{default:!0}}),W()}F(["click"]);export{ht as component};
